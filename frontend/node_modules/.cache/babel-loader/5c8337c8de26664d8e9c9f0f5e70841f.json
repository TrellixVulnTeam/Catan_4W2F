{"ast":null,"code":"import _slicedToArray from \"/home/agustina/Descargas/catan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/agustina/Descargas/catan/src/components/DiceRoll.jsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport api from \"../Api\";\nimport GameContext from \"../GameContext\";\nimport { ReactComponent as DiceOne } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-one-solid.svg\";\nimport { ReactComponent as DiceTwo } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-two-solid.svg\";\nimport { ReactComponent as DiceThree } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-three-solid.svg\";\nimport { ReactComponent as DiceFour } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-four-solid.svg\";\nimport { ReactComponent as DiceFive } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-five-solid.svg\";\nimport { ReactComponent as DiceSix } from \"@svgr/webpack?-svgo,+titleProp,+ref!../public/icons/dice-six-solid.svg\";\n\nfunction DiceRoll() {\n  const _useContext = useContext(GameContext),\n        gameId = _useContext.gameId;\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        dices = _useState2[0],\n        setDices = _useState2[1];\n\n  const diceElements = [React.createElement(DiceOne, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }), React.createElement(DiceTwo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(DiceThree, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }), React.createElement(DiceFour, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }), React.createElement(DiceFive, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }), React.createElement(DiceSix, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  })];\n  useEffect(() => {\n    const fetchDices = async () => {\n      const res = await api.games.get(gameId);\n      const lastDices = res.data.current_turn.dice;\n      setDices(lastDices);\n    };\n\n    fetchDices();\n    const interval = setInterval(() => fetchDices(), api.POLL_EVERY);\n    return () => clearInterval(interval);\n  }, [gameId]);\n  if (!dices) return React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Loading Dices...\");\n  return React.createElement(\"div\", {\n    className: \"flex flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"w-12 mr-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, diceElements[dices[0] - 1]), React.createElement(\"div\", {\n    className: \"w-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, diceElements[dices[1] - 1]));\n}\n\nexport default DiceRoll;","map":{"version":3,"sources":["/home/agustina/Descargas/catan/src/components/DiceRoll.jsx"],"names":["React","useState","useEffect","useContext","api","GameContext","DiceRoll","gameId","dices","setDices","diceElements","fetchDices","res","games","get","lastDices","data","current_turn","dice","interval","setInterval","POLL_EVERY","clearInterval"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AAEA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;;;;;;;AAQA,SAASC,QAAT,GAAoB;AAAA,sBACCH,UAAU,CAACE,WAAD,CADX;AAAA,QACVE,MADU,eACVA,MADU;;AAAA,oBAEQN,QAAQ,CAAC,IAAD,CAFhB;AAAA;AAAA,QAEXO,KAFW;AAAA,QAEJC,QAFI;;AAGlB,QAAMC,YAAY,GAAG,CACnB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADmB,EAEnB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFmB,EAGnB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHmB,EAInB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJmB,EAKnB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALmB,EAMnB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANmB,CAArB;AASAR,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,UAAU,GAAG,YAAY;AAC7B,YAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,KAAJ,CAAUC,GAAV,CAAcP,MAAd,CAAlB;AACA,YAAMQ,SAAS,GAAGH,GAAG,CAACI,IAAJ,CAASC,YAAT,CAAsBC,IAAxC;AACAT,MAAAA,QAAQ,CAACM,SAAD,CAAR;AACD,KAJD;;AAKAJ,IAAAA,UAAU;AACV,UAAMQ,QAAQ,GAAGC,WAAW,CAAC,MAAMT,UAAU,EAAjB,EAAqBP,GAAG,CAACiB,UAAzB,CAA5B;AACA,WAAO,MAAMC,aAAa,CAACH,QAAD,CAA1B;AACD,GATQ,EASN,CAACZ,MAAD,CATM,CAAT;AAWA,MAAI,CAACC,KAAL,EAAY,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACZ,SACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BE,YAAY,CAACF,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,CAAxC,CADF,EAEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBE,YAAY,CAACF,KAAK,CAAC,CAAD,CAAL,GAAW,CAAZ,CAAnC,CAFF,CADF;AAMD;;AAED,eAAeF,QAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\n\nimport api from \"../Api\";\nimport GameContext from \"../GameContext\";\nimport { ReactComponent as DiceOne } from \"../public/icons/dice-one-solid.svg\";\nimport { ReactComponent as DiceTwo } from \"../public/icons/dice-two-solid.svg\";\nimport { ReactComponent as DiceThree } from \"../public/icons/dice-three-solid.svg\";\nimport { ReactComponent as DiceFour } from \"../public/icons/dice-four-solid.svg\";\nimport { ReactComponent as DiceFive } from \"../public/icons/dice-five-solid.svg\";\nimport { ReactComponent as DiceSix } from \"../public/icons/dice-six-solid.svg\";\n\nfunction DiceRoll() {\n  const { gameId } = useContext(GameContext);\n  const [dices, setDices] = useState(null);\n  const diceElements = [\n    <DiceOne />,\n    <DiceTwo />,\n    <DiceThree />,\n    <DiceFour />,\n    <DiceFive />,\n    <DiceSix />\n  ];\n\n  useEffect(() => {\n    const fetchDices = async () => {\n      const res = await api.games.get(gameId);\n      const lastDices = res.data.current_turn.dice;\n      setDices(lastDices);\n    };\n    fetchDices();\n    const interval = setInterval(() => fetchDices(), api.POLL_EVERY);\n    return () => clearInterval(interval);\n  }, [gameId]);\n\n  if (!dices) return <i>Loading Dices...</i>;\n  return (\n    <div className=\"flex flex-row\">\n      <div className=\"w-12 mr-4\">{diceElements[dices[0] - 1]}</div>\n      <div className=\"w-12\">{diceElements[dices[1] - 1]}</div>\n    </div>\n  );\n}\n\nexport default DiceRoll;\n"]},"metadata":{},"sourceType":"module"}