{"ast":null,"code":"import _slicedToArray from \"/home/agustina/Descargas/catan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/agustina/Descargas/catan/src/components/LobbyList.jsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../Api\";\nimport AuthContext from \"../AuthContext\";\n\nfunction LobbyList() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        rooms = _useState2[0],\n        setRooms = _useState2[1];\n\n  const _useContext = useContext(AuthContext),\n        authDispatch = _useContext.authDispatch;\n\n  useEffect(() => {\n    const fetchRooms = async () => {\n      const res = await api.lobbies.all();\n      setRooms(res.data);\n    };\n\n    fetchRooms();\n    const interval = setInterval(() => fetchRooms(), api.POLL_EVERY);\n    return () => clearInterval(interval);\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"h-full bg-orange-300 justify-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"py-5 flex flex-col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"font-cinzel text-gray-900 text-4xl lg:text-6xl lg:text-bold lg:pt-5 self-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Lobby List\"), React.createElement(\"div\", {\n    className: \"table rounded mt-6 lg:mt-12 self-center w-11/12 lg:w-8/12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"table-row bg-gray-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"div\", {\n    className: \"table-cell hidden md:table-cell lg:table-cell xl:table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Players\"), React.createElement(\"div\", {\n    className: \"table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Status\")), rooms.map((room, index) => React.createElement(Link, {\n    to: \"/lobby/\".concat(room.id),\n    key: room.id,\n    className: \"\\n                table-row\\n                cursor-pointer\\n                hover:bg-gray-400\\n                \".concat(index % 2 ? \"bg-gray-200\" : \"bg-gray-300\", \"\\n              \"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"table-cell py-4 px-6 text-gray-900 truncate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, room.name)), React.createElement(\"div\", {\n    className: \"table-cell hidden md:block lg:block xl:block py-4 px-6 text-gray-900 truncate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, room.players.map((player, pIndex) => React.createElement(\"span\", {\n    key: player,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, player, \"\".concat(pIndex !== room.players.length - 1 ? \", \" : \"\"))))), React.createElement(\"div\", {\n    className: \"table-cell py-4 px-6 text-right text-gray-900\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, room.game_has_started ? React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"STARTED\") : React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, room.players.length, \"/\", room.max_players))))), React.createElement(\"div\", {\n    className: \"table rounded mt-6 lg:mt-12 self-center w-11/12 lg:w-8/12 justify-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/lobby/create\",\n    className: \"w-full text-center self-center \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"button\",\n    value: \"NEW LOBBY\",\n    className: \"\\n              cursor-pointer\\n              h-12\\n              bg-blue-800\\n              text-white\\n              shadow\\n              w-full shadow-md rounded\\n              text-center text-sm self-center tracking-wider text-bold\\n            \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })))), React.createElement(\"input\", {\n    style: {\n      position: \"absolute\",\n      bottom: \"1rem\",\n      right: \"1rem\",\n      padding: \"0 2rem\",\n      cursor: \"pointer\"\n    },\n    type: \"submit\",\n    value: \"LOGOUT\",\n    className: \"mt-2 h-12 bg-blue-800 text-white text-center text-sm self-center tracking-wider text-bold shadow-md rounded h-12\",\n    onClick: () => {\n      authDispatch({\n        type: \"LOGOUT\"\n      });\n      window.location.reload();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }));\n}\n\nexport default LobbyList;","map":{"version":3,"sources":["/home/agustina/Descargas/catan/src/components/LobbyList.jsx"],"names":["React","useState","useEffect","useContext","Link","api","AuthContext","LobbyList","rooms","setRooms","authDispatch","fetchRooms","res","lobbies","all","data","interval","setInterval","POLL_EVERY","clearInterval","map","room","index","id","name","players","player","pIndex","length","game_has_started","max_players","position","bottom","right","padding","cursor","type","window","location","reload"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport api from \"../Api\";\nimport AuthContext from \"../AuthContext\";\n\nfunction LobbyList() {\n  const [rooms, setRooms] = useState([]);\n  const { authDispatch } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchRooms = async () => {\n      const res = await api.lobbies.all();\n      setRooms(res.data);\n    };\n    fetchRooms();\n    const interval = setInterval(() => fetchRooms(), api.POLL_EVERY);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"h-full bg-orange-300 justify-center\">\n      <div className=\"py-5 flex flex-col\">\n        <h1 className=\"font-cinzel text-gray-900 text-4xl lg:text-6xl lg:text-bold lg:pt-5 self-center\">\n          Lobby List\n        </h1>\n        <div className=\"table rounded mt-6 lg:mt-12 self-center w-11/12 lg:w-8/12\">\n          <div className=\"table-row bg-gray-100\">\n            <div className=\"table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\">\n              Name\n            </div>\n            <div className=\"table-cell hidden md:table-cell lg:table-cell xl:table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\">\n              Players\n            </div>\n            <div className=\"table-cell py-4 px-6 font-bold uppercase text-center text-sm text-gray-700\">\n              Status\n            </div>\n          </div>\n          {rooms.map((room, index) => (\n            <Link\n              to={`/lobby/${room.id}`}\n              key={room.id}\n              className={`\n                table-row\n                cursor-pointer\n                hover:bg-gray-400\n                ${index % 2 ? \"bg-gray-200\" : \"bg-gray-300\"}\n              `}\n            >\n              <div className=\"table-cell py-4 px-6 text-gray-900 truncate\">\n                <span>{room.name}</span>\n              </div>\n              <div className=\"table-cell hidden md:block lg:block xl:block py-4 px-6 text-gray-900 truncate\">\n                <span>\n                  {room.players.map((player, pIndex) => (\n                    <span key={player}>\n                      {player}\n                      {`${pIndex !== room.players.length - 1 ? \", \" : \"\"}`}\n                    </span>\n                  ))}\n                </span>\n              </div>\n              <div className=\"table-cell py-4 px-6 text-right text-gray-900\">\n                {room.game_has_started ? (\n                  <span>STARTED</span>\n                ) : (\n                  <span>\n                    {room.players.length}/{room.max_players}\n                  </span>\n                )}\n              </div>\n            </Link>\n          ))}\n        </div>\n\n        <div className=\"table rounded mt-6 lg:mt-12 self-center w-11/12 lg:w-8/12 justify-center\">\n          <Link to=\"/lobby/create\" className=\"w-full text-center self-center \">\n            <input\n              type=\"button\"\n              value=\"NEW LOBBY\"\n              className={`\n              cursor-pointer\n              h-12\n              bg-blue-800\n              text-white\n              shadow\n              w-full shadow-md rounded\n              text-center text-sm self-center tracking-wider text-bold\n            `}\n            />\n          </Link>\n        </div>\n      </div>\n      <input\n        style={{\n          position: \"absolute\",\n          bottom: \"1rem\",\n          right: \"1rem\",\n          padding: \"0 2rem\",\n          cursor: \"pointer\"\n        }}\n        type=\"submit\"\n        value=\"LOGOUT\"\n        className=\"mt-2 h-12 bg-blue-800 text-white text-center text-sm self-center tracking-wider text-bold shadow-md rounded h-12\"\n        onClick={() => {\n          authDispatch({ type: \"LOGOUT\" });\n          window.location.reload();\n        }}\n      />\n    </div>\n  );\n}\n\nexport default LobbyList;\n"]},"metadata":{},"sourceType":"module"}