{"ast":null,"code":"import _slicedToArray from \"/home/agustina/Descargas/catan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/agustina/Descargas/catan/src/components/Register.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../Api\";\nimport Background from \"../public/img/catan-bg.jpg\";\nimport { TextClasses, CommonClasses } from \"./Login\";\nimport CustomInput from \"./CustomInput\";\nimport AuthContext from \"../AuthContext\";\n\nfunction RegisterPage() {\n  return React.createElement(\"div\", {\n    className: \"h-full bg-cover bg-center flex justify-center\",\n    style: bgImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, React.createElement(RegisterForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }));\n}\n\nconst bgImage = {\n  backgroundImage: \"url(\".concat(Background, \")\")\n};\nconst isValidPassword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9])(?=.{8,})/;\n\nfunction RegisterForm() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        pass = _useState4[0],\n        setPass = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        repeatPass = _useState6[0],\n        setRepeatPass = _useState6[1];\n\n  const history = useHistory();\n\n  const _useContext = useContext(AuthContext),\n        auth = _useContext.auth;\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!isValidPassword.test(pass)) alert(\"\\n        Password needs to:\\n        - be >8 characters long,\\n        - contain a number,\\n        - contain both lower and upper case letters\\n        - contain a symbol\\n      \");else if (pass !== repeatPass) alert(\"Passwords do not match!\");else {\n      try {\n        await api.auth.register(user, pass);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(\"Error: \".concat(err));\n        alert(\"Invalid register info.\");\n      }\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"h-ful md:table w-full md:w-6/12 lg:w-4/12 md:mt-20 md:rounded-lg shadow-lg bg-orange-300\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, auth.token && React.createElement(Redirect, {\n    to: \"/lobbyList\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    className: \"font-cinzel text-center pt-24 leading-tight text-gray-900\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"text-xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"The Settlers of\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"text-5xl font-bold tracking-widest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Catan\")), React.createElement(\"form\", {\n    className: \"flex flex-col justify-around mt-16 pb-12\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(CustomInput, {\n    type: \"text\",\n    placeholder: \"USERNAME\",\n    value: user,\n    onChange: e => setUser(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(CustomInput, {\n    type: \"password\",\n    placeholder: \"PASSWORD\",\n    value: pass,\n    onChange: e => setPass(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(CustomInput, {\n    type: \"password\",\n    placeholder: \"REPEAT PASSWORD\",\n    value: repeatPass,\n    onChange: e => setRepeatPass(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"REGISTER\",\n    className: \"\\n            cursor-pointer\\n            mt-2\\n            h-12\\n            bg-blue-800\\n            text-white\\n            \".concat(CommonClasses, \"\\n            \").concat(TextClasses, \"\\n            \"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"text-orange-800 text-center font-medium mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Already have an account?\"), React.createElement(\"input\", {\n    type: \"button\",\n    onClick: () => {\n      history.push(\"/login\");\n    },\n    className: \"\\n            mt-1\\n            h-12\\n            \".concat(CommonClasses, \"\\n            \").concat(TextClasses, \"\\n            text-white\\n            bg-orange-600\\n            cursor-pointer\\n            \"),\n    value: \"LOGIN\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })));\n}\n\nexport default RegisterPage;","map":{"version":3,"sources":["/home/agustina/Descargas/catan/src/components/Register.jsx"],"names":["React","useState","useContext","Redirect","useHistory","api","Background","TextClasses","CommonClasses","CustomInput","AuthContext","RegisterPage","bgImage","backgroundImage","isValidPassword","RegisterForm","user","setUser","pass","setPass","repeatPass","setRepeatPass","history","auth","handleSubmit","event","preventDefault","test","alert","register","push","err","console","log","token","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport api from \"../Api\";\nimport Background from \"../public/img/catan-bg.jpg\";\nimport { TextClasses, CommonClasses } from \"./Login\";\nimport CustomInput from \"./CustomInput\";\nimport AuthContext from \"../AuthContext\";\n\nfunction RegisterPage() {\n  return (\n    <div\n      className=\"h-full bg-cover bg-center flex justify-center\"\n      style={bgImage}\n    >\n      <RegisterForm />\n    </div>\n  );\n}\n\nconst bgImage = {\n  backgroundImage: `url(${Background})`\n};\n\nconst isValidPassword = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9])(?=.{8,})/;\n\nfunction RegisterForm() {\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [repeatPass, setRepeatPass] = useState(\"\");\n  const history = useHistory();\n\n  const { auth } = useContext(AuthContext);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!isValidPassword.test(pass))\n      alert(`\n        Password needs to:\n        - be >8 characters long,\n        - contain a number,\n        - contain both lower and upper case letters\n        - contain a symbol\n      `);\n    else if (pass !== repeatPass) alert(\"Passwords do not match!\");\n    else {\n      try {\n        await api.auth.register(user, pass);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(`Error: ${err}`);\n        alert(\"Invalid register info.\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"h-ful md:table w-full md:w-6/12 lg:w-4/12 md:mt-20 md:rounded-lg shadow-lg bg-orange-300\">\n      {auth.token && <Redirect to=\"/lobbyList\" />}\n      <h1 className=\"font-cinzel text-center pt-24 leading-tight text-gray-900\">\n        <span className=\"text-xl\">The Settlers of</span>\n        <br />\n        <span className=\"text-5xl font-bold tracking-widest\">Catan</span>\n      </h1>\n      <form\n        className=\"flex flex-col justify-around mt-16 pb-12\"\n        onSubmit={handleSubmit}\n      >\n        <CustomInput\n          type=\"text\"\n          placeholder=\"USERNAME\"\n          value={user}\n          onChange={e => setUser(e.target.value)}\n        />\n        <CustomInput\n          type=\"password\"\n          placeholder=\"PASSWORD\"\n          value={pass}\n          onChange={e => setPass(e.target.value)}\n        />\n        <CustomInput\n          type=\"password\"\n          placeholder=\"REPEAT PASSWORD\"\n          value={repeatPass}\n          onChange={e => setRepeatPass(e.target.value)}\n        />\n        <input\n          type=\"submit\"\n          value=\"REGISTER\"\n          className={`\n            cursor-pointer\n            mt-2\n            h-12\n            bg-blue-800\n            text-white\n            ${CommonClasses}\n            ${TextClasses}\n            `}\n        />\n        <span className=\"text-orange-800 text-center font-medium mt-5\">\n          Already have an account?\n        </span>\n        <input\n          type=\"button\"\n          onClick={() => {\n            history.push(\"/login\");\n          }}\n          className={`\n            mt-1\n            h-12\n            ${CommonClasses}\n            ${TextClasses}\n            text-white\n            bg-orange-600\n            cursor-pointer\n            `}\n          value=\"LOGIN\"\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default RegisterPage;\n"]},"metadata":{},"sourceType":"module"}